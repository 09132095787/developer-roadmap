import{u as g}from"./index.fac0f359.js";import{h as u,p as w}from"./hooks.module.ee390651.js";import{C as x}from"./close.3a539829.js";import{a as b}from"./http.b4d93ef7.js";import{s as a}from"./page.d4f83d9f.js";import{o as r}from"./jsxRuntime.module.760e3403.js";import"./preact.module.e54f245b.js";import"./jwt.2bcbdb7f.js";function E(i){const{gaPageIdentifier:e}=i,l=g(a),[n,p]=u(),c=async()=>{const{response:o,error:t}=await b("https://api.roadmap.sh/v1-get-sponsor",{href:window.location.pathname});if(t){console.error(t);return}o?.sponsor&&(p(o.sponsor),window.fireEvent({category:"SponsorImpression",action:`${o.sponsor?.company} Impression`,label:`${e} / ${o.sponsor?.company} Link`}))};if(w(()=>{const o=window.setTimeout(c,500);return()=>window.clearTimeout(o)},[]),l||!n)return null;const{url:m,title:d,imageUrl:f,description:h,company:s,pageUrl:y}=n;return r("a",{href:m,target:"_blank",rel:"noopener sponsored nofollow",class:"fixed bottom-[15px] right-[15px] z-50 flex max-w-[350px] bg-white shadow-lg outline-0 outline-transparent",onClick:()=>{window.fireEvent({category:"SponsorClick",action:`${s} Redirect`,label:`${e} / ${s} Link`})},children:[r("span",{class:"absolute right-1.5 top-1.5 text-gray-300 hover:text-gray-800","aria-label":"Close","aria-role":"button","close-sponsor":!0,onClick:o=>{o.preventDefault(),o.stopImmediatePropagation(),a.set(!0)},children:r("img",{alt:"Close",class:"h-4 w-4",src:x})}),r("img",{src:f,class:"block h-[150px] w-[104.89px] object-contain lg:h-[169px] lg:w-[118.18px]",alt:"Sponsor Banner"}),r("span",{class:"flex flex-1 flex-col justify-between text-sm",children:[r("span",{class:"p-[10px]",children:[r("span",{class:"mb-0.5 block font-semibold",children:d}),r("span",{class:"block text-gray-500",children:h})]}),r("span",{class:"sponsor-footer",children:"Partner Content"})]})]})}export{E as PageSponsor};
