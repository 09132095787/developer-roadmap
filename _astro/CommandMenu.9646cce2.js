import{j as e}from"./jsx-runtime.6940b965.js";import{r as n}from"./index.070054a4.js";import{u as N}from"./use-keydown.bb1f91bb.js";import{u as P}from"./use-outside-click.5adb83b9.js";import{a as L}from"./http.3e3d4bea.js";import{i as C}from"./jwt.5556697d.js";import{U as b}from"./UserIcon.dee69552.js";import{G as j}from"./GroupIcon.71179bb3.js";import{R as k}from"./RoadmapIcon.379b7ecd.js";function M(r){const{className:o}=r;return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:o,children:[e.jsx("line",{x1:"10",x2:"21",y1:"6",y2:"6"}),e.jsx("line",{x1:"10",x2:"21",y1:"12",y2:"12"}),e.jsx("line",{x1:"10",x2:"21",y1:"18",y2:"18"}),e.jsx("polyline",{points:"3 6 4 7 6 5"}),e.jsx("polyline",{points:"3 12 4 13 6 11"}),e.jsx("polyline",{points:"3 18 4 19 6 17"})]})}function I(r){const{className:o}=r;return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:o,children:[e.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),e.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),e.jsx("path",{d:"M12 11h4"}),e.jsx("path",{d:"M12 16h4"}),e.jsx("path",{d:"M8 11h.01"}),e.jsx("path",{d:"M8 16h.01"})]})}function R(r){const{className:o}=r;return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:o,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.503 3.498l4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 00-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0z"})})}function S(r){const{className:o}=r;return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:o,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}function A(r){const{className:o}=r;return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:o,children:e.jsx("path",{strokeLinecap:"round",d:"M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9a2.25 2.25 0 002.25 2.25z"})})}const c=[{id:"home",url:"/",title:"Home",group:"Pages",icon:e.jsx(S,{className:"mr-2 h-4 w-4 stroke-2"})},{id:"account",url:"/account",title:"Account",group:"Pages",icon:e.jsx(b,{className:"mr-2 h-4 w-4 stroke-2"}),isProtected:!0},{id:"team",url:"/team",title:"Teams",group:"Pages",icon:e.jsx(j,{className:"mr-2 h-4 w-4 stroke-2"}),isProtected:!0},{id:"friends",url:"/account/friends",title:"Friends",group:"Pages",icon:e.jsx(j,{className:"mr-2 h-4 w-4 stroke-2"}),isProtected:!0},{id:"roadmaps",url:"/roadmaps",title:"Roadmaps",group:"Pages",icon:e.jsx(k,{className:"mr-2 h-4 w-4 stroke-2"})},{id:"account-roadmaps",url:"/account/roadmaps",title:"Custom Roadmaps",group:"Pages",icon:e.jsx(k,{className:"mr-2 h-4 w-4 stroke-2"}),isProtected:!0},{id:"best-practices",url:"/best-practices",title:"Best Practices",group:"Pages",icon:e.jsx(M,{className:"mr-2 h-4 w-4 stroke-2"})},{id:"questions",url:"/questions",title:"Questions",group:"Pages",icon:e.jsx(I,{className:"mr-2 h-4 w-4 stroke-2"})},{id:"guides",url:"/guides",title:"Guides",group:"Pages",icon:e.jsx(R,{className:"mr-2 h-4 w-4 stroke-2"})},{id:"videos",url:"/videos",title:"Videos",group:"Pages",icon:e.jsx(A,{className:"mr-2 h-4 w-4 stroke-2"})}];function p(r){const o=C();return!r.isProtected||o}function D(){const r=n.useRef(null),o=n.useRef(null),[h,l]=n.useState(!1),[g,y]=n.useState([]),[i,w]=n.useState(c),[u,x]=n.useState(""),[a,d]=n.useState(0);N("mod_k",()=>{l(!0)}),P(o,()=>{x(""),l(!1)}),n.useEffect(()=>{function s(t){l(!0)}return v(),window.addEventListener("command.k",s),()=>{window.removeEventListener("command.k",s)}},[]),n.useEffect(()=>{!h||!r.current||r.current.focus()},[h]);async function v(){if(g.length>0)return g;const{error:s,response:t}=await L("/pages.json");return t?(y([...c,...t].filter(p)),t):c.filter(p)}return n.useEffect(()=>{if(!u){w(c.filter(p));return}const s=u.trim().toLowerCase();v().then((t=c)=>{const m=t.filter(f=>f.title.toLowerCase().indexOf(s)!==-1).slice(0,10);d(0),w(m)})},[u]),h?e.jsx("div",{className:"fixed left-0 right-0 top-0 z-50 flex h-full justify-center overflow-y-auto overflow-x-hidden bg-black/50",children:e.jsx("div",{className:"relative top-0 h-full w-full max-w-lg p-2 sm:top-20 md:h-auto",children:e.jsxs("div",{className:"relative rounded-lg bg-white shadow",ref:o,children:[e.jsx("input",{ref:r,autoFocus:!0,type:"text",value:u,className:"w-full rounded-t-md border-b p-4 text-sm focus:bg-gray-50 focus:outline-none",placeholder:"Search roadmaps, guides or pages ..",autoComplete:"off",onInput:s=>{const t=s.target.value.trim();x(t)},onKeyDown:s=>{if(s.key==="ArrowDown"){const t=a<i.length-1;d(t?a+1:0)}else if(s.key==="ArrowUp"){const t=a>0;d(t?a-1:i.length-1)}else if(s.key==="Tab")s.preventDefault();else if(s.key==="Escape")x(""),l(!1);else if(s.key==="Enter"){const t=i[a];t&&(window.location.href=t.url)}}}),e.jsx("div",{className:"px-2 py-2",children:e.jsxs("div",{className:"flex flex-col",children:[i.length===0&&e.jsx("div",{className:"p-5 text-center text-sm text-gray-400",children:"No results found"}),i.map((s,t)=>{const m=i[t-1],f=m&&m.group!==s.group;return e.jsxs(n.Fragment,{children:[f&&e.jsx("div",{className:"border-b border-gray-100"}),e.jsxs("a",{className:`flex w-full items-center rounded p-2 text-sm ${t===a?"bg-gray-100":""}`,onMouseOver:()=>d(t),href:s.url,children:[!s.icon&&e.jsx("span",{className:"mr-2 text-gray-400",children:s.group}),s.icon&&s.icon,s.title]})]},s.id)})]})})]})})}):null}export{D as CommandMenu};
