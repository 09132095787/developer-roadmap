import{j as o}from"./jsx-runtime.KYujgZxC.js";import{r as i}from"./index.068npczX.js";import{a as w}from"./http.cM1Co3i-.js";import{s as p}from"./page.WSJoHwTn.js";import{u as b}from"./index.LKnyuT_C.js";import{X as j}from"./x.P9PArTNO.js";import"./jwt.E7BTUPpl.js";import"./index.rS7vpNfE.js";import"./createLucideIcon.vQ5YHosT.js";function P(l){const{gaPageIdentifier:t}=l,c=b(p),[r,m]=i.useState(),x=async()=>{const s=window.location.pathname;if(s==="/"||s==="/best-practices"||s==="/roadmaps"||s.startsWith("/guides")||s.startsWith("/videos")||s.startsWith("/account")||s.startsWith("/team"))return;const{response:e,error:a}=await w("https://api.roadmap.sh/v1-get-sponsor",{href:window.location.pathname});if(a){console.error(a);return}e?.sponsor&&(m(e.sponsor),window.fireEvent({category:"SponsorImpression",action:`${e.sponsor?.company} Impression`,label:e.sponsor.gaLabel||`${t} / ${e.sponsor?.company} Link`}))};if(i.useEffect(()=>{window.setTimeout(x)},[]),c||!r)return null;const{url:f,title:d,imageUrl:h,description:u,company:n,gaLabel:g}=r;return o.jsxs("a",{href:f,target:"_blank",rel:"noopener sponsored nofollow",className:"fixed bottom-[15px] right-[15px] z-50 flex max-w-[350px] bg-white shadow-lg outline-0 outline-transparent",onClick:()=>{window.fireEvent({category:"SponsorClick",action:`${n} Redirect`,label:g||`${t} / ${n} Link`})},children:[o.jsx("span",{className:"absolute right-1.5 top-1.5 text-gray-300 hover:text-gray-800","aria-label":"Close",onClick:s=>{s.preventDefault(),p.set(!0)},children:o.jsx(j,{className:"h-4 w-4"})}),o.jsx("img",{src:h,className:"block h-[150px] object-fill lg:h-[169px] lg:w-[118.18px]",alt:"Sponsor Banner"}),o.jsxs("span",{className:"flex flex-1 flex-col justify-between text-sm",children:[o.jsxs("span",{className:"p-[10px]",children:[o.jsx("span",{className:"mb-0.5 block font-semibold",children:d}),o.jsx("span",{className:"block text-gray-500",children:u})]}),o.jsx("span",{className:"sponsor-footer",children:"Partner Content"})]})]})}export{P as PageSponsor};
