import{j as e}from"./jsx-runtime.6940b965.js";import{r as t}from"./index.070054a4.js";import{h as x}from"./http.408ee04f.js";import"./jwt.ab9b7b25.js";const f=new Proxy({src:"/_astro/verify-letter.fe971718.svg",width:512,height:512,format:"svg"},{get(s,a,r){return a==="clone"?structuredClone(s):(globalThis.astroAsset.referencedImages.add(s.fsPath),s[a])}});function j(){const[s,a]=t.useState(".."),[r,n]=t.useState(""),[l,o]=t.useState(!1),[c,i]=t.useState(!1);t.useEffect(()=>{const m=new URLSearchParams(window.location.search);a(m.get("email"))},[]);const d=()=>{x("https://api.roadmap.sh/v1-send-verification-email",{email:s}).then(({response:m,error:h})=>{if(h){i(!1),n(h?.message||"Something went wrong."),o(!1);return}i(!0)}).catch(()=>{i(!1),o(!1),n("Something went wrong. Please try again later.")})};return e.jsxs("div",{className:"mx-auto max-w-md text-center",children:[e.jsx("img",{alt:"Verify Email",src:f.src,className:"mx-auto mb-4 h-20 w-40 sm:h-40"}),e.jsx("h2",{className:"my-2 text-center text-xl font-semibold sm:my-5 sm:text-2xl",children:"Verify your email address"}),e.jsxs("div",{className:"text-sm sm:text-base",children:[e.jsxs("p",{children:["We have sent you an email at"," ",e.jsx("span",{className:"font-bold",children:s}),". Please click the link to verify your account. This link will expire shortly, so please verify soon!"]}),e.jsx("hr",{className:"my-4"}),!c&&e.jsxs(e.Fragment,{children:[l&&e.jsx("p",{className:"text-gray-400",children:"Sending the email .."}),!l&&!r&&e.jsxs("p",{children:["Please make sure to check your spam folder. If you still don't have the email click to"," ",e.jsx("button",{disabled:!s,className:"inline text-blue-700",onClick:d,children:"resend verification email."})]}),r&&e.jsx("p",{className:"text-red-700",children:r})]}),c&&e.jsx("p",{className:"text-green-700",children:"Verification email has been sent!"})]})]})}export{j as VerificationEmailMessage};
