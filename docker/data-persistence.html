<div data-github-url="https://github.com/kamranahmedse/developer-roadmap/tree/master/src/data/roadmaps/docker/content/104-data-persistence/index.md"></div> <h1 id="data-persistence-in-docker">Data Persistence in Docker</h1>
<p>Docker enables you to run containers that are isolated pieces of code, including applications and their dependencies, separated from the host operating system. Containers are ephemeral by default, which means any data stored in the container will be lost once it is terminated. To overcome this problem and retain data across container lifecycles, Docker provides various data persistence methods.</p>
<p>In this section, we will cover:</p>
<ul>
<li><a href="#docker-volumes">Docker Volumes</a></li>
<li><a href="#bind-mounts">Bind Mounts</a></li>
<li><a href="#docker-tmpfs-mounts">Docker tmpfs mounts</a></li>
</ul>
<h3 id="docker-volumes">Docker Volumes</h3>
<p>Docker volumes are the preferred way to persist data generated and utilized by a Docker container. A volume is a directory on the host machine Docker uses to store files and directories that can outlive the container’s lifecycle. Docker volumes can be shared among containers, and they offer various benefits like easy backups and data migration.</p>
<p>To create a volume, use the following command:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#50FA7B">docker</span><span style="color:#F1FA8C"> volume</span><span style="color:#F1FA8C"> create</span><span style="color:#F1FA8C"> volume_name</span></span></code></pre>
<p>To use a volume, add a <code>--volume</code> (or <code>-v</code>) flag to your <code>docker run</code> command:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#50FA7B">docker</span><span style="color:#F1FA8C"> run</span><span style="color:#BD93F9"> --volume</span><span style="color:#F1FA8C"> volume_name:/container/path</span><span style="color:#F1FA8C"> image_name</span></span></code></pre>
<h3 id="bind-mounts">Bind Mounts</h3>
<p>Bind mounts allow you to map any directory on the host machine to a directory within the container. This method can be useful in development environments where you need to modify files on the host system, and those changes should be immediately available within the container.</p>
<p>To create a bind mount, use the <code>--mount</code> flag with <code>type=bind</code> in your <code>docker run</code> command:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#50FA7B">docker</span><span style="color:#F1FA8C"> run</span><span style="color:#BD93F9"> --mount</span><span style="color:#F1FA8C"> type=bind,src=/host/path,dst=/container/path</span><span style="color:#F1FA8C"> image_name</span></span></code></pre>
<h3 id="docker-tmpfs-mounts">Docker tmpfs mounts</h3>
<p>Docker tmpfs mounts allow you to create a temporary file storage directly in the container’s memory. Data stored in tmpfs mounts is fast and secure but will be lost once the container is terminated.</p>
<p>To use a tmpfs mount, add a <code>--tmpfs</code> flag to your <code>docker run</code> command:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#50FA7B">docker</span><span style="color:#F1FA8C"> run</span><span style="color:#BD93F9"> --tmpfs</span><span style="color:#F1FA8C"> /container/path</span><span style="color:#F1FA8C"> image_name</span></span></code></pre>
<p>By employing these methods, you can ensure data persistence across container lifecycles, enhancing the usefulness and flexibility of Docker containers. Remember to choose the method that best suits your use case, whether it’s the preferred Docker volumes, convenient bind mounts, or fast and secure tmpfs mounts.</p>